---
layout: default
title: "Webpack"
parent: DEV
---

# Webpack
- 최신 자바스크립트 자원들을 사용하여 웹 개발을 하다보면 반드시 마주치게 되는 도구가 `Webpack`이다.
- 이렇게 자주 사용하면서도 생각해보니 아직 공식문서를 읽어본적이 없기에 공식문서를 기반으로 정리해보고자한다!

## Webpack?
- `At its core, webpack is a static module bundler for modern JavaScript applications.`
- 해석해보면 웹팩은 `자바스크립트 모듈 번들러`.....
- 현존하는 모든 브라우저에서 `ES2015 표준 모듈시스템`을 지원하지 않기 때문에, 이를 웹팩을 통하여 해결할 수 있다.
- 진입지점으로부터 의존성 트리를 구축하고 이를 기반으로 번들링하여, 단일 파일 형태의 번들결과물을 얻을 수 있다.

## 설치 및 테스트

```jsx
  webpack-study
 |- package.json
 |- index.html
 |- /src
   |- index.js
```

> $ npm i -D webpack webpack-cli

- 위와같은 폴더구조를 형성한 후 webpack과 cli 인터페이스를 설치해준다.
- `webpack 4.0` 별도의 `config`파일이 필수가 아니기 때문에,`webpack` 명령어를 통해 간단히 번들 결과를 얻을 수 있다.
- `dist/main.js`에 번들링 결과가 생성된다.
- 번들 결과를 살펴보자.
```jsx
(() => {
  var e = {
      353: (e) => {
        e.exports = function () {
          console.log("first function excuted");
        };
      },
    },
    r = {};
  function t(o) {
    if (r[o]) return r[o].exports;
    var n = (r[o] = { exports: {} });
    return e[o](n, n.exports, t), n.exports;
  }
  (t.n = (e) => {
    var r = e && e.__esModule ? () => e.default : () => e;
    return t.d(r, { a: r }), r;
  }),
    (t.d = (e, r) => {
      for (var o in r)
        t.o(r, o) &&
          !t.o(e, o) &&
          Object.defineProperty(e, o, { enumerable: !0, get: r[o] });
    }),
    (t.o = (e, r) => Object.prototype.hasOwnProperty.call(e, r)),
    (() => {
      "use strict";
      t(353);
    })();
})();
```
- 번들링 결과물은 기본적으로 압축(Minify) / 난독화(Uglify)가 진행되어 읽기 쉽지는 않다. prettier를 사용해서 그나마 이쁘게 포장했다.
- 읽지 말라고 번들링하는 것이고, 앞으로 개발과정에서 읽을 필요도 없을 것이지만 그럼에도 살펴보자.
- 특징을 살펴보면 모든 함수들이 `즉시실행함수(IIFE)` 방식으로 짜여진걸 볼 수 있다.
- 전체 자바스크립트 모듈들을 하나의 IIFE로 변화하여 스코프 충돌에 대한 이슈 없이 코드를 번들링 할 수 있게된다.

## Babel
-  source to source Compiler
-  ES6 코드를 es5코드로 변환


## 참고자료
- https://velog.io/@sdong001/Webpack-%EC%9D%B4%EA%B2%83%EB%A7%8C%EC%9D%80-%EC%95%8C%EA%B3%A0-%EA%B0%80%EC%9E%90